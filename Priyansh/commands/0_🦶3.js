module.exports.config = {
  name: "pairv3",
  version: "1.0.0",
  hasPermssion: 0,
  credits: "FAIZ ANSARI",
  description: "It's a compound :>",
  commandCategory: "Giáº£i trÃ­",
  usages: "",
  dependencies: {
        "axios": "",
        "fs-extra": ""
  },
  cooldowns: 0
}

module.exports.run = async function ({ args, Users, Threads, api, event, Currencies }) {
  const { loadImage, createCanvas } = require("canvas");
  const fs = global.nodemodule["fs-extra"];
  const axios = global.nodemodule["axios"];
  let pathImg = __dirname + "/cache/background.png";
  let pathAvt1 = __dirname + "/cache/Avtmot.png";
  let pathAvt2 = __dirname + "/cache/Avthai.png";

  var id1 = event.senderID;
  var name1 = await Users.getNameUser(id1);
  var ThreadInfo = await api.getThreadInfo(event.threadID);
  var all = ThreadInfo.userInfo
  for (let c of all) {
    if (c.id == id1) var gender1 = c.gender;
  };
  const botID = api.getCurrentUserID();
  let ungvien = [];
  if(gender1 == "FEMALE"){
    for (let u of all) {
      if (u.gender == "MALE") {
      if (u.id !== id1 && u.id !== botID) ungvien.push(u.id)
      }
    }
  }
  else if(gender1 == "MALE"){
    for (let u of all) {
      if (u.gender == "FEMALE") {
      if (u.id !== id1 && u.id !== botID) ungvien.push(u.id)
      }
    }
  }
  else {
  for (let u of all) {
      if (u.id !== id1 && u.id !== botID) ungvien.push(u.id)
    }
  }
  var id2 = ungvien[Math.floor(Math.random() * ungvien.length)];
  var name2 = await Users.getNameUser(id2);
  var rd1 = Math.floor(Math.random() * 100) + 1;
  var cc = ["0", "-1", "99,99", "-99", "-100", "101", "0,01"];
  var rd2 = cc[Math.floor(Math.random() * cc.length)];
  var djtme = [`${rd1}`, `${rd1}`, `${rd1}`, `${rd1}`, `${rd1}`, `${rd2}`, `${rd1}`, `${rd1}`, `${rd1}`, `${rd1}`];

  var tile = djtme[Math.floor(Math.random() * djtme.length)];

let hemang = ["ð‘²ð’šð’‚ ð’•ð’–ð’Žð’ð’† ð’Œð’‰ð’‚ð’ð’‚ ð’Œð’‰ð’‚ð’šð’‚ ð’…ð’†ð’‚ð’“ ðŸ’ðŸ¥€", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘²ð’“ð’Šð’”ð’‰ð’ð’‚ ðŸŒ¹ðŸš©ðŸ’", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘¹ð’‚ð’ŽðŸš©ðŸš©ðŸ’ðŸŒ·", "ð‘¹ð’‚ð’…ð’‰ð’† ð‘¹ð’‚ð’…ð’‰ð’† ðŸª·ðŸµï¸", "ð‘¹ð’‚ð’Ž ð‘¹ð’‚ð’Ž ð’‹ð’Š ðŸš©ðŸŒ¹ðŸŒ·", "ð‘±ð’‚ð’Š ð‘¯ð’ ðŸ¥°","ð‘±ð’‚ð’Š ð‘©ð’‰ð’ð’ð’†ð’ð’‚ð’•ð’‰ â¤ï¸ðŸ§¡ðŸ’› ", "ð‘³ð’ð’—ð’† ð’šð’ð’– ð‘«ð’ð’”ð’• ðŸ’šðŸ©µðŸ’™","ð‘²ð’†ð’”ð’† ð’‰ð’ ð’•ð’–ð’Ž ð’…ð’ð’”ð’• ðŸ’—ðŸŒ¹", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘²ð’“ð’Šð’”ð’‰ð’ð’‚ ðŸš©ðŸš©ðŸŒ·ðŸŒ¹ ", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘¹ð’‚ð’Ž ðŸš©ðŸŒºðŸ¥€ðŸ’ðŸŒ¹", "ð‘²ð’†ð’”ð’‚ ð’ˆð’šð’‚ ð’‚ð’‚ð’‹ ð’Œð’‚ ð’…ð’Šð’ ðŸ‚ðŸŒ»","ð‘»ð’–ð’Ž ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Œð’Š ð’”ð’‚ð’ƒð’”ð’† ð’Œð’‰ð’ð’ð’ƒð’”ð’–ð’“ð’‚ð’• ð’ƒð’‚ð’‚ð’• ð’‰ð’, ð’Žð’†ð’“ð’Š ð’‘ð’šð’‚ð’‚ð’“ð’Š. â¤ï¸", "ð‘»ð’†ð’“ð’† ð’ƒð’Šð’ð’‚ ð’Žð’†ð’“ð’† ð’…ð’Šð’ ð’Œð’Š ð’…ð’‰ð’‚ð’…ð’Œð’‚ð’ ð’‚ð’…ð’‰ð’ð’ð’“ð’Š ð’‰ð’‚ð’Š, ð’‹ð’‚ð’‚ð’ð’†ð’Žð’‚ð’. ðŸ’“", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’Žð’–ð’”ð’Œð’–ð’“ð’‚ð’‰ð’‚ð’• ð’”ð’† ð’‰ð’Š ð’Žð’†ð’“ð’Š ð’”ð’–ð’ƒð’‚ð’‰ ð’”ð’‚ð’—ð’†ð’“ð’† ð’Œð’‰ð’Šð’ð’•ð’Š ð’‰ð’‚ð’Š. ðŸ˜Šâ¤ï¸", "ð‘»ð’–ð’Žð’”ð’† ð’‹ð’–ð’…ð’Š ð’‰ð’‚ð’“ ð’‘ð’‚ð’ ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Œð’‚ ð’”ð’‚ð’ƒð’”ð’† ð’‰ð’‚ð’”ð’†ð’†ð’ ð’‘ð’‚ð’ ð’‰ð’‚ð’Š. ðŸ’‘", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† ð’ƒð’Šð’ð’‚ ð’Žð’†ð’“ð’Š ð’…ð’–ð’ð’Šð’šð’‚ ð’‚ð’…ð’‰ð’ð’ð’“ð’Š ð’”ð’Š ð’ð’‚ð’ˆð’•ð’Š ð’‰ð’‚ð’Š, ð’Žð’†ð’“ð’† ð’šð’‚ð’‚ð’“. ðŸ’–", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’‚ ð’”ð’‚ð’‚ð’•ð’‰, ð’Žð’†ð’“ð’Š ð’Œð’‚ð’‰ð’‚ð’ð’Š ð’Œð’Š ð’”ð’‚ð’ƒð’”ð’† ð’Œð’‰ð’ð’ð’ƒð’”ð’–ð’“ð’‚ð’• ð’„ð’‰ð’‚ð’ð’…ð’‚ð’ð’Š ð’‰ð’‚ð’Š. ðŸŒ™ðŸ’", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’ƒð’‚ð’‚ð’•ð’†ð’Šð’ ð’Žð’†ð’“ð’† ð’…ð’Šð’ ð’Œð’ ð’„ð’‰ð’‰ð’ð’ ð’ð’†ð’•ð’Š ð’‰ð’‚ð’Šð’, ð’‘ð’šð’‚ð’‚ð’“ ð’Žð’†ð’Šð’ ð’Žð’‚ð’”ð’•ð’Š ð’Žð’†ð’Šð’. ðŸ˜â¤ï¸", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‚ð’‚ð’ð’Œð’‰ð’†ð’Šð’, ð’Žð’†ð’“ð’Š ð’…ð’–ð’ð’Šð’šð’‚ ð’Œð’Š ð’”ð’‚ð’ƒð’”ð’† ð’‘ð’šð’‚ð’‚ð’“ð’Š ð’•ð’‚ð’”ð’—ð’†ð’†ð’“ ð’‰ð’‚ð’Š. ðŸŒŸðŸ˜˜", "ð‘»ð’–ð’Žð’”ð’† ð’‘ð’šð’‚ð’‚ð’“ ð’Œð’‚ð’“ð’ð’‚ ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Œð’‚ ð’”ð’‚ð’ƒð’”ð’† ð’‚ð’„ð’‰ð’‰ð’‚ ð’‡ð’‚ð’Šð’”ð’ð’‚ ð’‰ð’‚ð’Š. ðŸ’ž", "ð‘»ð’–ð’Žð’”ð’† ð’‹ð’–ð’…ð’Œð’‚ð’“ ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Žð’†ð’Šð’ ð’“ð’‚ð’ð’ˆ ð’ƒð’‰ð’‚ð’“ ð’ˆð’‚ð’šð’†, ð’Žð’†ð’“ð’Š ð’‹ð’‚ð’‚ð’. ðŸŒˆâ¤ï¸","ð‘ºð’‚ð’ƒð’”ð’† ð’‚ð’„ð’‰ð’‰ð’Š ð’‹ð’ð’…ð’Š "," ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† 100 ð’ƒð’‚ð’„ð’‰ð’‰ð’† ð’‰ð’ ðŸ’–ðŸ˜","ð‘²ð’Šð’•ð’ð’† ð’„ð’–ð’•ð’† ð’ð’ˆ ð’“ð’‰ð’† ð’…ð’ð’ð’ ðŸ’›ðŸ§¡","ð‘»ð’‚ð’ˆð’…ð’Š ð’‹ð’ð’…ð’Š ð’ƒð’ ð’ˆð’‚ð’Š ðŸ’“ðŸ’–"," ð‘´ð’”ð’• ð’„ð’ð’–ð’‘ð’ð’†ð’” ð’†ð’Œð’…ð’‚ð’Ž ðŸ’“","ð‘´ð’ð’•ð’– ð’ð’“ ð‘·ð’‚ð’•ð’ð’– ð’Œð’Š ð’‹ð’ð’…ð’Š ðŸ˜¹ðŸ’ž","ð‘«ð’ð’ð’ ð’Žð’ð’•ð’† ð’ð’“ ð’Šð’ð’Œð’† ð’ƒð’„ð’‰ð’‰ð’† ð’Šð’ð’”ð’† ð’ƒð’‰ð’Š ð’Žð’ð’•ð’† ðŸ˜¹ðŸ’›" ,"ð‘ºð’…ð’‚ ð‘ºð’–ð’‰ð’‚ð’ˆð’‚ð’ ð‘¹ð’‰ð’ ðŸ’–","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð‘ªð’“ð’Šð’„ð’Œð’†ð’• ð’•ð’†ð’‚ð’Ž ð’ƒð’‚ð’ð’† ðŸ¤­","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† 8 ð‘©ð’‚ð’„ð’‰ð’‰ð’† ð’‰ð’ ðŸ˜—","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† 50 ð’ƒð’‚ð’„ð’‰ð’‰ð’† ð’‰ð’ ðŸ˜‹","ð‘©ð’ð’ð’ ð‘¹ð’‚ð’…ð’‰ð’† ð‘¹ð’‚ð’…ð’‰ð’† ðŸ’–ðŸš©","ð‘©ð’ð’ð’ ð‘±ð’‚ð’Š ð’”ð’‰ð’†ð’† ð‘²ð’“ð’Šð’”ð’‰ð’ð’‚ ðŸ’–ðŸš©","7 ð’‹ð’‚ð’ð’Žð’ ð’Œð’‚ ð’šð’† ð’“ð’Šð’”ð’•ð’‚ ð’‰ ðŸ’—ðŸ’—","ð‘ºð’‚ð’”ð’•ð’† ð‘ªð’ð’–ð’‘ð’ð’†ð’”","ð‘«ð’ð’ð’ ð‘»ð’‰ð’‚ð’“ð’Œð’Š ð’‰ ð’šð’† ð’•ð’ ðŸ˜","ð‘¬ð’Œ ð’‰ð’‚ð’ð’…ð’”ð’ð’Žð’† ð’†ð’Œ ð’ƒð’†ð’–ð’•ð’Šð’‡ð’–ð’ ðŸ¥°","ð‘¨ð’†ð’† ð‘® ð‘¶ð’ð’ ð‘® ð’Œð’“ð’ð’† ð’˜ð’‚ð’ð’† ðŸ˜‚ðŸ’“"," ð‘ªð’‰ð’Šð’Šð’Š ðŸ¤£"," ð’€ð’† ð‘¹ð’Šð’”ð’•ð’‚.ð’Œð’šð’‚ ð’Œð’†ð’‰ð’ð’‚ð’•ð’‚ ð’‰ ðŸ¤­"," ð‘ªð’‰ð’Šð’Š ð’€ð’† ð’Œð’†ð’”ð’‚ ð‘¹ð’Šð’”ð’•ð’‚ ð’‰ ðŸ¥¹","ð‘ªð’‰ð’Šð’Š ð‘ªð’‰ð’Šð’Š ð‘»ð’‰ð’–ð’– ð‘»ð’‰ð’–ð’– ðŸ˜†","ð‘²ð’Šð’•ð’ð’† ð’ˆð’‚ð’ð’…ð’† ð’ð’ð’ˆ ð’‰ ðŸ¤£"," ð‘¹ð’†ð’‚ð’ ð‘©ð‘­ ð‘®ð‘­ ð’‚ð’‚ ð’ˆð’šð’† ðŸ’"," ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’…ð’ð’”ð’•ð’Š ð’ƒð’‚ð’ð’Š ð’“ð’‚ð’‰ð’† ðŸ’ž","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‹ð’ð’…ð’Š ð’•ð’–ð’•.ð’‹ð’‚ð’šð’† ðŸ˜—","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‹ð’ð’…ð’Š ð’ƒð’‚ð’ð’Š ð’“ð’‚ð’‰ð’† ðŸ¥³","ð‘«ð’Šð’—ð’ð’“ð’„ð’† ð’‰ð’ ð’‹ð’‚ð’šð’† ð’•ð’–ð’Žð’‰ð’‚ð’“ð’‚ ðŸ˜†","ð‘«ð’ð’ð’ ð‘©ð’†ð’”ð’•ð’‡ð’“ð’Šð’†ð’ð’… ð’‚ð’‚ð’‹ ð’†ð’Œ ð’”ð’‚ð’•ð’‰ ðŸ’“ðŸ’—"," ð‘²ð’Šð’•ð’ð’† ð’‚ð’„ð’‰ð’‰ð’† ð’ƒð’†ð’”ð’•ð’– ð’ƒð’†ð’”ð’•ð’Šð’† ð’‰ ðŸ’—","ð‘¨ð’‘ð’ð’Š ð‘®ð‘­ ð’”ð’† ð’„ð’‰ð’–ð’‘ð’‚ð’Œð’† ð’‘ð’‚ð’Šð’“ ð’‘ð’‚ð’Šð’“ ð’Œð’“ ð’“ð’‰ð’† ð’‰ð’ ðŸ˜ðŸ˜ "," ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‹ð’ð’…ð’Š 7 ð’‹ð’‚ð’ð’Žð’ ð’•ð’‚ð’Œ ð’„ð’‰ð’ð’†ðŸ’•","ð‘²ð’“ð’ð’ ð’…ð’ð’ð’ ð’”ð’†ð’•ð’•ð’Šð’ð’ˆ ð’‚ð’ƒðŸ§¡","ð‘­ð’–ð’ð’ ð’”ð’†ð’•ð’•ð’Šð’ð’ˆð’ƒð’‚ð’›ð’ŠðŸ˜‹","ð‘­ð’–ð’ð’ ð‘³ð’Šð’ð’†ð’ƒð’‚ð’›ð’ŠðŸ˜", "ð‘µð’‰ð’Š ð‘·ð’‚ð’•ð’†ð’ˆð’Š ð’šð’†ðŸ˜"," ð‘µð’‰ð’Š ð’‘ð’‚ð’•ð’ð’† ð’˜ð’‚ð’ð’Š ð’šð’†ðŸ˜‚","ð‘»ð’–ð’Ž ð’”ð’‚ð’…ð’‚ ð’”ð’Šð’ð’ˆð’ð’† ð‘¹ð’‰ð’ð’ˆð’†ðŸ˜¹","ðŸŒ¸ à¤šà¤²à¥‹ à¤à¤• à¤¦à¥‚à¤¸à¤°à¥‡ à¤•à¥‹ à¤šà¥à¤®à¥à¤®à¤¾ à¤¦à¥‡à¤¦à¥‹ à¤œà¤²à¥à¤¦à¥€ à¤¸à¥‡ _____ðŸ˜ðŸ¦‹", "ð‘ªð’‰ð’ð’ ð’‹ð’‚ð’ ð’‚ð’ƒ ð’ƒð’†ð’…ð’“ð’ð’ð’Ž ð’Ž "," ð‘±ð’‚ð’ ð’ƒð’†ð’…ð’“ð’ð’ð’Ž ð’Ž ð’Žð’ð’‹ ð’Œð’“ð’ ð’‚ð’ƒ ðŸ˜"," ð‘¨ð’ƒ ð’…ð’ð’ð’ ð’ƒð’‰ð’‚ð’ˆ ð’Œ ð’”ð’‰ð’‚ð’…ð’Š ð’Œð’“ð’ð’ ðŸ˜—","ð‘»ð’–ð’Ž ð’…ð’ð’ð’ ð’‘ð’‚ð’ˆð’‚ð’ ð’‰ð’ ð’†ð’Œ ð’…ð’–ð’”ð’“ð’† ð’Œ ð’ð’Šð’šð’† ðŸ˜","ð‘®ð’‰ð’–ð’” ð’‹ð’‚ð’ ð’‚ð’ƒ ð’ƒð’‚ð’•ð’‰ð’“ð’ð’ð’Ž ð’Ž ðŸ¥³","ð‘±ð’‚ð’ ð’Šð’”ð’‰ð’’ ð’ð’…ð’‚ð’ ðŸ˜‹","ð‘¹ð’†ð’’ð’–ð’†ð’”ð’• ð’ƒð’‰ð’†ð’‹ð’ ð’†ð’Œ ð’…ð’–ð’”ð’“ð’† ð’Œð’ ð’‚ð’ƒ ðŸ’ðŸš©","ð‘°ð’ð’ƒð’ð’™ ð’Ž ð’‹ð’‚ð’ ð’ð’ð’—ð’†ð’ƒð’‚ð’›ð’Š ð’Œð’“ð’ ðŸ’žðŸ’“"," ð‘ºð’‰ð’‚ð’…ð’Š ð’Œð’ƒ ð’Œð’“ ð’“ð’‰ð’† ð’‰ð’ ðŸ’","ð‘³ð’ˆ ð’‹ð’‚ð’ ð’Œð’‚ð’Ž ð’‘ ðŸ¥³","ð‘ºð’†ð’•ð’•ð’Šð’ð’ˆ ð’Œð’“ð’ð’ ð’‚ð’ƒð’‰ð’Š ð’ƒð’‰ð’Š ð’Žð’ð’Œð’‚ ð’‰ ðŸ’“ðŸ’–","ð‘±ð’˜ð’‚ð’ ð’‰ð’ ð’ˆð’šð’† ð’‰ð’ ð’‚ð’ƒ ð’•ð’ ð’”ð’‰ð’‚ð’…ð’Š ð’Œð’“ð’ð’ ðŸŽ‰ðŸŽŠ","ð’ƒð’‚ð’• ð’„ð’‰ð’Šð’• ð’”ð’–ð’“ð’– ð’Œð’“ð’ ð’Šð’ð’ƒð’ð’™ ð’Ž ðŸŽ‚ðŸŽ"];
 let sheoran = hemang[Math.floor(Math.random() * hemang.length)];

  var background = [
  "https://i.ibb.co/gm3PT1g/20231028-172016.jpg",
  "https://i.postimg.cc/qRpfNsvm/Picsart-23-06-10-08-51-59-268.png",
  "https://i.postimg.cc/jSzXjY06/Picsart-23-06-10-08-25-38-156.jpg","https://i.ibb.co/d2TCfzm/20231028-141649.jpg"
  ];
  var rd = background[Math.floor(Math.random() * background.length)];

  let getAvtmot = (
    await axios.get(
      `https://graph.facebook.com/${id1}/picture?width=720&height=720&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662`,
      { responseType: "arraybuffer" }
    )
  ).data;
  fs.writeFileSync(pathAvt1, Buffer.from(getAvtmot, "utf-8"));

  let getAvthai = (
    await axios.get(
      `https://graph.facebook.com/${id2}/picture?width=720&height=720&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662`,
      { responseType: "arraybuffer" }
    )
  ).data;
  fs.writeFileSync(pathAvt2, Buffer.from(getAvthai, "utf-8"));

  let getbackground = (
    await axios.get(`${rd}`, {
      responseType: "arraybuffer",
    })
  ).data;
  fs.writeFileSync(pathImg, Buffer.from(getbackground, "utf-8"));

  let baseImage = await loadImage(pathImg);
  let baseAvt1 = await loadImage(pathAvt1);
  let baseAvt2 = await loadImage(pathAvt2);
  let canvas = createCanvas(baseImage.width, baseImage.height);
  let ctx = canvas.getContext("2d");
  ctx.drawImage(baseImage, 0, 0, canvas.width, canvas.height);
  ctx.drawImage(baseAvt1, 100, 150, 300, 300);
  ctx.drawImage(baseAvt2, 900, 150, 300, 300);
  const imageBuffer = canvas.toBuffer();
  fs.writeFileSync(pathImg, imageBuffer);
  fs.removeSync(pathAvt1);
  fs.removeSync(pathAvt2);
  return api.sendMessage({ body: `Congratulations ${name1} successfully paired with ${name2}\nThe odds are ${tile}%\n\nðŸ‘‰  `+ sheoran,
            mentions: [{
          tag: `${name2}`,
          id: id2
        }], attachment: fs.createReadStream(pathImg) },
      event.threadID,
      () => fs.unlinkSync(pathImg),
      event.messageID);
}